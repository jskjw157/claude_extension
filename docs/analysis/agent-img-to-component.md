# 에이전트 분석: img-to-component

## 1. 에이전트 개요
- **이름**: `img-to-component`
- **목적**: Base64로 인코딩된 이미지나 이미지 경로를 전달받아, 이를 React(TypeScript) 컴포넌트로 변환합니다. `monet-registry`의 핵심 기능으로, 시각적 디자인을 자동으로 코드로 구현하는 역할을 담당합니다.
- **모델**: `inherit` (오케스트레이터의 모델 설정을 따름, 주로 고성능 모델 사용 추정)

## 2. 프롬프트 구조 분석

### 2.1 에이전트 정의 (.claude/agents/img-to-component.md)
- **페르소나**: 명시적인 페르소나 설정보다는 작업 지시에 집중합니다. "주어진 이미지를 컴포넌트로 구현하세요."
- **프로세스**:
    1.  **이미지 분석**: 레이어, 불투명도, 배치(Auto layout), 색상, 폰트, 줄바꿈 등을 정밀 분석. 특히 4가지 태그 카테고리(`functional`, `style`, `layout`, `industry`) 분석을 강조.
    2.  **Naming**: lower-kebab-case 규칙 적용.
    3.  **Scaffold 생성**: `scripts/create-registry-component.py` 실행을 강제하여 표준 파일 구조를 생성.
    4.  **구현**: 생성된 `index.tsx`에 실제 컴포넌트 로직 구현.

### 2.2 상세 구현 가이드 (prompt/img-to-component.md)
에이전트 정의 파일이 "무엇을 할지"를 정의한다면, `prompt/` 디렉토리의 파일은 "어떻게 구현할지"에 대한 상세 기술 명세서 역할을 합니다.

- **비디오 구현 가이드**: YouTube 및 HTML5 비디오 처리 방식을 코드로 구체적으로 명시.
- **Framer 애니메이션**: `framer.json` 데이터와 `motion/react`를 연동하는 패턴 제공.
- **제약 사항 (Constraints)**:
    - 스타일 파일(`styles.css`, `font.css`) 분리 원칙.
    - `shadcn` 컴포넌트 활용 및 커스텀 컴포넌트 처리 방식.
    - `lucide-react`, `motion/react` 등 허용된 라이브러리 명시.
    - **금지 사항**: `playwright-mcp` 사용 금지, `npm run build` 금지 등 에이전트의 실수 방지.
- **MCP 활용 가이드**:
    - `nanobanana`: 이미지 자산 생성 시 사용할 프롬프트 작성 규칙(XML 문법).
    - `sharp`: 배경 제거(`remove_background`) 활용.
- **디자인 시스템**: 사용 가능한 폰트 목록 및 CSS 적용 패턴 표준화.

## 3. 핵심 시사점 (Best Practices)
1.  **이원화된 프롬프트 관리**: 
    - 에이전트 정의(.claude)는 '프로세스 흐름'과 '도구 호출'에 집중하고, 상세 구현 지침(prompt/)은 별도 파일로 분리하여 관리합니다. 이는 토큰 효율성을 높이고 유지보수를 용이하게 합니다.
    - 필요시 `prompt/`의 내용을 컨텍스트로 로드하여 에이전트에게 주입하는 방식을 사용하는 것으로 보입니다.

2.  **스크립트 기반의 구조화**:
    - AI가 파일 구조를 임의로 만들게 두지 않고, `create-registry-component.py`라는 Python 스크립트를 통해 강제적으로 표준화된 폴더 및 파일 구조를 생성하게 합니다. 이는 AI의 변동성을 통제하는 매우 효과적인 전략입니다.

3.  **구체적인 코드 패턴 제공**:
    - "비디오를 구현해"라고만 지시하는 것이 아니라, `iframe`과 `useState`를 사용한 구체적인 코드 스니펫을 제공하여 AI가 생성할 코드의 품질을 보장합니다.

4.  **외부 도구(MCP)의 적재적소 활용**:
    - 시각적 요소 분석 및 자산 생성(`nanobanana`), 이미지 처리(`sharp`) 등 AI 모델만으로는 해결하기 어려운 작업을 전문화된 도구로 위임하여 해결합니다.
